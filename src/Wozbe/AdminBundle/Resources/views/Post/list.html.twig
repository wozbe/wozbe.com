{% extends 'WozbeAdminBundle::layout.html.twig' %}

{% block title %}{{ 'Posts'|trans }}{% endblock %}

{% block content %}
<div class="">
  <h1>
    Post management
    <div class="pull-right">
      <a href="{{ url('wozbe_admin_post_create') }}"><button class="btn">{{ 'New post'|trans }}</button></a>&nbsp;
      <a href="{{ url('wozbe_admin_post_create') }}"><button class="btn">{{ 'New post from Github'|trans }}</button></a>
    </div>
  </h1>
</div>
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>{{ 'Id'|trans }}</th>
      <th>{{ 'Title'|trans }}</th>
      <th>{{ 'Created At'|trans }}</th>
      <th>{{ 'Published'|trans }}</th>
      <th>{{ 'Comments'|trans }}</th>
      <th>{{ 'Actions'|trans }}</th>
    </tr>
  </thead>
  <tbody>
    {% for post in posts %}
    <tr>
      <td>{{ post.id }}</td>
      <td>{{ post.title }}</td>
      <td>{{ post.createdAt|date('d/m/Y') }}</td>
      <td>{% if post.published %}<span class="label label-info">Published</span>{% else %}<span class="label label-warning">Not Published</span>{% endif %}</td>
      <td><span class="badge">{{ post.comments|length }}</span></td>
      <td>
        <a href="{{ url('wozbe_admin_post_edit', {'slug': post.slug}) }}">
          <button class="btn btn-mini" type="button"><i class="icon-edit"></i> {{ 'Edit'|trans }}</button>
        </a>
        <a href="{{ url('wozbe_admin_post_remove', {'slug': post.slug}) }}">
          <button class="btn btn-mini" type="button"><i class="icon-remove"></i> {{ 'Remove'|trans }}</button>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
