{% extends 'WozbeAdminBundle::layout.html.twig' %}

{% block title %}{{ 'Posts'|trans }}{% endblock %}

{% block content %}
<div class="">
  <h1>
    {{ 'Post management'|trans }}
    <div class="pull-right">
      <a href="{{ url('wozbe_admin_post_create') }}">
        <button type="button" class="btn btn-primary">
          <span class="glyphicon glyphicon-edit"></span> {{ 'New post'|trans }}
        </button>
      </a>
    </div>
  </h1>
</div>
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>{{ 'Title'|trans }}</th>
      <th>{{ 'Created At'|trans }}</th>
      <th>{{ 'Published'|trans }}</th>
      <th>{{ 'Actions'|trans }}</th>
    </tr>
  </thead>
  <tbody>
    {% for post in posts %}
    <tr>
      <td>{{ post.title }}</td>
      <td>{{ post.createdAt|date('d/m/Y') }}</td>
      <td>{% if post.published %}<span class="label label-success">Published</span>{% else %}<span class="label label-default">Not Published</span>{% endif %}</td>
      <td>
        <a href="{{ url('wozbe_admin_post_edit', {'slug': post.slug}) }}">
          <button type="button" class="btn btn-default btn-xs">
            <span class="glyphicon glyphicon-edit"></span>
          </button>
        </a>
        <a href="{{ url('wozbe_admin_post_remove', {'slug': post.slug}) }}">
          <button type="button" class="btn btn-danger btn-xs">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
